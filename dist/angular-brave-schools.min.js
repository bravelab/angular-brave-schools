!function(){"use strict";angular.module("brave.schools",["ui.router"]).value("version","0.0.6")}(),function(){"use strict";angular.module("brave.schools").factory("appConfigMock",[function(){var t={skin:{name:"egradgifts",logo:"themes/egrad/assets/img/logo.png","class":"btn btn-block btn-xs txt-color-white margin-right-5",style:"background-color:#4E653F;",label:"Default egradgifts style"}};return t}])}(),function(){"use strict";function t(t,o){t.state("braveSchools",{url:"/schools",views:{root:{templateUrl:"app/layout/templates/master.tpl.html"},"content@app":{templateUrl:function(){return o.templates.index},controller:"SchoolsController",controllerAs:"vm"}}}),t.state("braveSchools.list",{url:"/all",templateUrl:function(){return o.templates.list},controller:"SchoolsListController",controllerAs:"vm"}),t.state("braveSchools.detail",{url:"/:id/:slug",templateUrl:function(){return o.templates.detail},controller:"SchoolsDetailController",controllerAs:"vm"})}angular.module("brave.schools").config(t),t.$inject=["$stateProvider","BraveSchoolsProvider"]}(),function(){"use strict";function t(t,o,e){function n(){e.get(o.id).then(function(t){console.log(t),r.school=t})}var r=this;r.school=null,n()}angular.module("brave.schools").controller("SchoolsDetailController",t),t.$inject=["$scope","$stateParams","SchoolsService"]}(),function(){"use strict";function t(t){function o(){t.$watch("schools",function(t,o){t!==o&&(e.schools=t)})}var e=this;e.schools=t.schools,o()}angular.module("brave.schools").controller("SchoolsListController",t),t.$inject=["$scope"]}(),function(){"use strict";function t(t,o,e,n,r){function s(){function s(o){l=o.data,i=l,t.schools=l,t.letters=e("firstLetters")(l,"name"),a()}function c(){o.transitionTo("brave.schools")}r.reset(),t.schools=[],t.letter="",t.letters=[],t.columns=[],t.columnCount=3;var a=function(){for(var o=Math.ceil(t.schools.length/t.columnCount),e=0;e<t.schools.length;e+=o){var n={start:e,end:Math.min(e+o,t.schools.length)};t.columns.push(n)}};t.reset=function(){t.setLetter(""),t.search("")},t.setLetter=function(o){t.letter=o,""===o?t.schools=l:(t.schools=e("startsWithLetter")(l,o),i=t.schools)},t.setSchool=function(t){r.setSchool(t)},t.search=function(o){""===o&&(i=l,t.schools=l,t.letter&&t.setLetter(t.letter)),t.schools=e("filter")(i,o)},n.getAll().then(s,c)}var l=[],i=[];s()}angular.module("brave.schools").controller("SchoolsController",t),t.$inject=["$scope","$state","$filter","SchoolsService","SchoolsBackend"]}(),function(){"use strict";function t(){var t=function(t){this.subdomain=t.subdomain};return t}angular.module("brave.schools").factory("Config",t),t.$inject=[]}(),function(){"use strict";function t(){var t=function(t){this.id=t.id,this.url=t.url};return t}angular.module("brave.schools").factory("Logo",t),t.$inject=[]}(),function(){"use strict";function t(t,o,e){var n=function(n){this.id=n.id,this.name=n.name,this.slug=n.slug,this.logo=new t(n.logo),this.config=new o(n.config),this.skin=new e(n.skin)};return n}angular.module("brave.schools").factory("School",t),t.$inject=["Logo","Config","Skin"]}(),function(){"use strict";function t(){var t=function(t){this["class"]=t["class"],this.label=t.label,this.logo=t.logo,this.name=t.name,this.style=t.style};return t}angular.module("brave.schools").factory("Skin",t),t.$inject=[]}(),function(){"use strict";angular.module("brave.schools").filter("firstLetters",[function(){return function(t,o){if("undefined"==typeof t)return t;var e=[];return t.forEach(function(t){var n=t[o].charAt(0);-1===e.indexOf(n)&&e.push(n)}),e}}])}(),function(){"use strict";angular.module("brave.schools").filter("slice",function(){return function(t,o,e){return t.slice(o,e)}})}(),function(){"use strict";angular.module("brave.schools").filter("startsWithLetter",[function(){return function(t,o){if("undefined"==typeof t)return t;for(var e=[],n=new RegExp(o,"i"),r=0;r<t.length;r++){var s=t[r];n.test(s.name.substring(0,1))&&e.push(s)}return e}}])}(),function(){"use strict";angular.module("brave.schools").provider("BraveSchools",function(){this.apiUrl="/api",this.endpoint="/schools",this.templates={index:"templates/schools.html",list:"templates/schools-list.html",detail:"templates/schools-detail.html"},this.$get=function(){var t=this.apiUrl,o=this.templates,e=this.endpoint;return{getApiUrl:function(){return t},getTemplates:function(){return o},getEndpoint:function(){return t+e}}},this.setApiUrl=function(t){this.apiUrl=t},this.setTemplates=function(t){this.templates=t}})}(),function(){"use strict";function t(t,o,e,n){function r(){delete e.instance,t.instance=n.instance,$("body").attr("style","")}function s(n){e.instance=n,t.instance=n,o.transitionTo("homeHome.index"),$("body").attr("style",n.skin.style)}var l={reset:r,setSchool:s};return l}angular.module("brave.schools").factory("SchoolsBackend",t),t.$inject=["$rootScope","$state","$localStorage","appConfig"]}(),function(){"use strict";angular.module("brave.schools").factory("SchoolsServiceMock",["$q","School",function(t,o){var e={logo:{id:3,url:"https://placeholdit.imgix.net/~text?txtsize=33&txt=university...&w=300&h=200"},name:"University of Waterloo",slug:"university-of-waterloo",id:"8d577746-eef6-4656-968f-921ecec7a9b5",config:{subdomain:"university-of-waterloo.egradgifts.com"},skin:{"class":"btn btn-block btn-xs txt-color-white margin-right-5",label:"Concordia University College of Alberta",logo:"https://placeholdit.imgix.net/~text?txtsize=33&txt=concordia-...&w=300&h=200",name:"concordia-university-college-of-alberta",style:"background-color:#9E060F;"}},n={detail:new o(e),list:{data:[new o(e)],meta:{totalAmount:1}}};return n}])}(),function(){"use strict";function t(t,o,e,n,r){function s(e){var r=o.defer();return"undefined"!=typeof i[e]?r.resolve(i[e]):t({method:"GET",url:c+"/"+e+"/",transformResponse:n}).then(function(t){i[e]=t.data,r.resolve(i[e])},function(t){r.reject(t)}),r.promise}function l(){return t({method:"GET",url:c,transformResponse:r}).then(function(t){return t})}var i={},c=e.getEndpoint(),a={get:s,getAll:l};return a}angular.module("brave.schools").factory("SchoolsService",t),t.$inject=["$http","$q","BraveSchools","SchoolTransformer","SchoolListTransformer"]}(),function(){"use strict";function t(t,o){return function(e){var n="string"==typeof e?angular.fromJson(e):e,r=[];return n.data.length&&(r=_.map(n.data,function(t){return new o(t)}),r=t("orderBy")(r,"name")),r}}angular.module("brave.schools").factory("SchoolListTransformer",t),t.$inject=["$filter","School"]}(),function(){"use strict";function t(t){return function(o){var e="string"==typeof o?angular.fromJson(o):o;return new t(e)}}angular.module("brave.schools").factory("SchoolTransformer",t),t.$inject=["School"]}();