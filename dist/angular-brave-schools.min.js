!function(){"use strict";angular.module("app.schools",["ui.router","app.auth"]).value("version","0.0.1")}(),function(){"use strict";function o(o,t){o.state("app.schools",{url:"/schools",views:{"content@app":{templateUrl:function(){return t.templates.index},controller:"SchoolsController",controllerAs:"vm"}}}),o.state("app.schools.list",{parent:"app.schools",url:"/all",templateUrl:function(){return t.templates.list},controller:"SchoolsListController",controllerAs:"vm"}),o.state("app.schools.detail",{parent:"app.schools",url:"/:id/:slug",templateUrl:function(){return t.templates.detail},controller:"SchoolsDetailController",controllerAs:"vm"})}angular.module("app.schools").config(o),o.$inject=["$stateProvider","BraveSchoolsProvider"]}(),function(){"use strict";function o(o,t,n){function e(){n.get(t.id).then(function(o){console.log(o),s.school=o})}var s=this;s.school=null,e()}angular.module("app.schools").controller("SchoolsDetailController",o),o.$inject=["$scope","$stateParams","SchoolsService"]}(),function(){"use strict";function o(o){function t(){o.$watch("schools",function(o,t){o!==t&&(n.schools=o)})}var n=this;n.schools=o.schools,t()}angular.module("app.schools").controller("SchoolsListController",o),o.$inject=["$scope"]}(),function(){"use strict";function o(o,t,n){function e(){function e(t){o.schools=t.data}function s(){t.transitionTo("app.schools")}o.currentPage=1,o.pageSize=30,o.pageChangeHandler=function(o){console.log("meals page changed to "+o)},n.getAll().then(e,s)}e()}angular.module("app.schools").controller("SchoolsController",o),o.$inject=["$scope","$state","SchoolsService"]}(),function(){"use strict";function o(){var o=function(o){this.subdomain=o.subdomain};return o}angular.module("app.schools").factory("Config",o),o.$inject=[]}(),function(){"use strict";function o(){var o=function(o){this.id=o.id,this.url=o.url};return o}angular.module("app.schools").factory("Logo",o),o.$inject=[]}(),function(){"use strict";function o(o,t){var n=function(n){this.id=n.id,this.name=n.name,this.slug=n.slug,this.logo=new o(n.logo),this.config=new t(n.config)};return n}angular.module("app.schools").factory("School",o),o.$inject=["Logo","Config"]}(),function(){"use strict";angular.module("app.schools").provider("BraveSchools",function(){this.apiUrl="/api",this.endpoint="/schools",this.templates={index:"templates/schools.html",list:"templates/schools-list.html",detail:"templates/schools-detail.html"},this.$get=function(){var o=this.apiUrl,t=this.templates,n=this.endpoint;return{getApiUrl:function(){return o},getTemplates:function(){return t},getEndpoint:function(){return o+n}}},this.setApiUrl=function(o){this.apiUrl=o},this.setTemplates=function(o){this.templates=o}})}(),function(){"use strict";angular.module("app.schools").factory("SchoolsServiceMock",["$q","School",function(o,t){var n={logo:{id:3,url:"https://placeholdit.imgix.net/~text?txtsize=33&txt=university...&w=300&h=200"},name:"University of Waterloo",slug:"university-of-waterloo",id:"8d577746-eef6-4656-968f-921ecec7a9b5",config:{subdomain:"university-of-waterloo.egradgifts.com"}},e={detail:new t(n),list:{data:[new t(n)],meta:{totalAmount:1}}};return e}])}(),function(){"use strict";function o(o,t,n,e,s){function r(n){var s=t.defer();return"undefined"!=typeof i[n]?s.resolve(i[n]):o({method:"GET",url:c+"/"+n+"/",transformResponse:e}).then(function(o){i[n]=o.data,s.resolve(i[n])},function(o){s.reject(o)}),s.promise}function l(){return o({method:"GET",url:c,transformResponse:s}).then(function(o){return o})}var i={},c=n.getEndpoint(),a={get:r,getAll:l};return a}angular.module("app.schools").factory("SchoolsService",o),o.$inject=["$http","$q","BraveSchools","SchoolTransformer","SchoolListTransformer"]}(),function(){"use strict";function o(o){return function(t){var n="string"==typeof t?angular.fromJson(t):t,e=[];return n.data.length&&(e=_.map(n.data,function(t){return new o(t)})),e}}angular.module("app.schools").factory("SchoolListTransformer",o),o.$inject=["School"]}(),function(){"use strict";function o(o){return function(t){var n="string"==typeof t?angular.fromJson(t):t;return new o(n)}}angular.module("app.schools").factory("SchoolTransformer",o),o.$inject=["School"]}();